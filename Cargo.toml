[package]
name = "p12_polyfill"
version = "0.1.0"
authors = ["qthree <qthree3@gmail.com>"]
edition = "2021"
license = "MIT OR Apache-2.0"
description = "Allows to use pkcs12 generated by openssl v1 in rustls and native-tls (vendored openssl-src v3)"
repository = "https://github.com/qthree/p12_polyfill"
keywords = ["pkcs12", "pkcs", "p12", "openssl", "rustls"]
categories = ["network-programming", "cryptography"]

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[features]
default = ["hjiayz-p12"]
hjiayz-p12 = ["p12", "yasna"]
rustcrypto-pkcs12 = ["pkcs12", "der"]

[dependencies]
# convert p12 to der, to use with rustls
rustls-pki-types = { version = "1", optional = true}

# convert p12 to pem, to use with native-tls
pem = { version = "3", optional = true}

# feature hjiayz-p12
p12 = { version = "0.6", optional = true }
yasna = { version = "0.5", optional = true }

# feature rustcrypto-pkcs12, unimplemented yet!
pkcs12 = { version = "0.1", optional = true }
der = { version = "0.7", features = ["alloc", "derive", "oid", "pem"], optional = true }
